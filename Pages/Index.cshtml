@page
@model IndexModel
@{
    ViewData["Title"] = "Home page";
}

<div class="container py-4">
    <div class="row">
        <div class="col-12">
            <div class="card shadow">
                <div class="card-header bg-primary text-white">
                    <h2 class="mb-0">Positive Feedback Form</h2>
                </div>
                <div class="card-body">
                    <p class="lead mb-4">Use this form to provide constructive feedback. Your insights help improve performance and create growth opportunities.</p>

                    <form id="feedbackForm" method="post" class="needs-validation" novalidate>
                        @if (!string.IsNullOrEmpty(Model.SuccessMessage))
                        {
                            <div class="alert alert-success mb-4 feedback-animation" role="alert">
                                @Model.SuccessMessage
                            </div>
                        }
                        
                        @if (!string.IsNullOrEmpty(Model.ErrorMessage))
                        {
                            <div class="alert alert-danger mb-4" role="alert">
                                @Model.ErrorMessage
                            </div>
                        }

                        <div class="form-section">
                            <h3 class="mb-3">About You</h3>
                            <div class="form-row">
                                <div class="form-group form-group-lg">
                                    <label asp-for="FeedbackInput.FeedbackProviderRole" class="form-label">Your Role</label>
                                    <select asp-for="FeedbackInput.FeedbackProviderRole" class="form-select" required>
                                        <option value="">Select your role...</option>
                                        <option value="Technical Interviewer">Technical Interviewer</option>
                                        <option value="Hiring Manager">Hiring Manager</option>
                                        <option value="HR/Recruiter">HR/Recruiter</option>
                                        <option value="Professor/Instructor">Professor/Instructor</option>
                                        <option value="Project Mentor / Supervisor">Project Mentor / Supervisor</option>
                                        <option value="Peer/Classmate">Peer/Classmate</option>
                                        <option value="Industry Professional">Industry Professional</option>
                                        <option value="Other">Other</option>
                                    </select>
                                    <div class="invalid-feedback">Please select your role.</div>
                                    <span asp-validation-for="FeedbackInput.FeedbackProviderRole" class="text-danger"></span>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="mb-3">Feedback Areas</h3>
                            
                            <div class="form-row">
                                <div class="form-group form-group-md">
                                    <label class="form-label">Strengths (Select at least one)</label>
                                    <div id="strengthsGroup" class="checkbox-group">
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Tech Communication" id="strength1">
                                            <label class="form-check-label" for="strength1">Tech Communication</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Code Quality" id="strength2">
                                            <label class="form-check-label" for="strength2">Code Quality</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Algorithms" id="strength3">
                                            <label class="form-check-label" for="strength3">Algorithms</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="System Design" id="strength4">
                                            <label class="form-check-label" for="strength4">System Design</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Debugging" id="strength5">
                                            <label class="form-check-label" for="strength5">Debugging</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Data Structures" id="strength6">
                                            <label class="form-check-label" for="strength6">Data Structures</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="API Integration" id="strength7">
                                            <label class="form-check-label" for="strength7">API Integration</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Testing Approach" id="strength8">
                                            <label class="form-check-label" for="strength8">Testing Approach</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Problem-Solving" id="strength9">
                                            <label class="form-check-label" for="strength9">Problem-Solving</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Technical Depth" id="strength10">
                                            <label class="form-check-label" for="strength10">Technical Depth</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Collaboration" id="strength11">
                                            <label class="form-check-label" for="strength11">Collaboration</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Learning Agility" id="strength12">
                                            <label class="form-check-label" for="strength12">Learning Agility</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Project Planning" id="strength13">
                                            <label class="form-check-label" for="strength13">Project Planning</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input strength-check" type="checkbox" name="FeedbackInput.Strengths" value="Tech Versatility" id="strength14">
                                            <label class="form-check-label" for="strength14">Tech Versatility</label>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback strength-feedback">Please select at least one strength.</div>
                                </div>
                                
                                <div class="form-group form-group-md">
                                    <label class="form-label">Areas for Improvement (Select at least one)</label>
                                    <div id="improvementsGroup" class="checkbox-group">
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="Technical Communication" id="improvement1">
                                            <label class="form-check-label" for="improvement1">Technical Communication</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="Problem-Solving Approach" id="improvement2">
                                            <label class="form-check-label" for="improvement2">Problem-Solving Approach</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="Code Quality & Best Practices" id="improvement3">
                                            <label class="form-check-label" for="improvement3">Code Quality & Best Practices</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="System Design Knowledge" id="improvement4">
                                            <label class="form-check-label" for="improvement4">System Design Knowledge</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="Time & Project Management" id="improvement5">
                                            <label class="form-check-label" for="improvement5">Time & Project Management</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="Algorithmic Thinking" id="improvement6">
                                            <label class="form-check-label" for="improvement6">Algorithmic Thinking</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="Collaborative Coding Skills" id="improvement7">
                                            <label class="form-check-label" for="improvement7">Collaborative Coding Skills</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="Technical Depth vs. Breadth" id="improvement8">
                                            <label class="form-check-label" for="improvement8">Technical Depth vs. Breadth</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="API & Documentation Usage" id="improvement9">
                                            <label class="form-check-label" for="improvement9">API & Documentation Usage</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input improvement-check" type="checkbox" name="FeedbackInput.Improvements" value="Testing & Debugging Practices" id="improvement10">
                                            <label class="form-check-label" for="improvement10">Testing & Debugging Practices</label>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback improvement-feedback">Please select at least one area for improvement.</div>
                                </div>
                                
                                <div class="form-group form-group-md">
                                    <label class="form-label">Suggestions for Future (Select at least one)</label>
                                    <div id="suggestionsGroup" class="checkbox-group">
                                        <div class="form-check">
                                            <input class="form-check-input suggestion-check" type="checkbox" name="FeedbackInput.HirableSuggestions" value="Specialized Technical Training" id="suggestion1">
                                            <label class="form-check-label" for="suggestion1">Specialized Technical Training</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input suggestion-check" type="checkbox" name="FeedbackInput.HirableSuggestions" value="Open Source Contributions" id="suggestion2">
                                            <label class="form-check-label" for="suggestion2">Open Source Contributions</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input suggestion-check" type="checkbox" name="FeedbackInput.HirableSuggestions" value="Side Project Development" id="suggestion3">
                                            <label class="form-check-label" for="suggestion3">Side Project Development</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input suggestion-check" type="checkbox" name="FeedbackInput.HirableSuggestions" value="Technical Writing/Documentation" id="suggestion4">
                                            <label class="form-check-label" for="suggestion4">Technical Writing/Documentation</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input suggestion-check" type="checkbox" name="FeedbackInput.HirableSuggestions" value="Software Architecture Experience" id="suggestion5">
                                            <label class="form-check-label" for="suggestion5">Software Architecture Experience</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input suggestion-check" type="checkbox" name="FeedbackInput.HirableSuggestions" value="Full-Stack Development Skills" id="suggestion6">
                                            <label class="form-check-label" for="suggestion6">Full-Stack Development Skills</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input suggestion-check" type="checkbox" name="FeedbackInput.HirableSuggestions" value="Cloud/DevOps Exposure" id="suggestion7">
                                            <label class="form-check-label" for="suggestion7">Cloud/DevOps Exposure</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input suggestion-check" type="checkbox" name="FeedbackInput.HirableSuggestions" value="ML/AI Knowledge Building" id="suggestion8">
                                            <label class="form-check-label" for="suggestion8">ML/AI Knowledge Building</label>
                                        </div>
                                        <div class="form-check">
                                            <input class="form-check-input suggestion-check" type="checkbox" name="FeedbackInput.HirableSuggestions" value="Technical Mentorship" id="suggestion9">
                                            <label class="form-check-label" for="suggestion9">Technical Mentorship</label>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback suggestion-feedback">Please select at least one suggestion.</div>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="mb-3">Additional Comments</h3>
                            <div class="form-row">
                                <div class="form-group" style="width: 100%;">
                                    <label asp-for="FeedbackInput.Comments" class="form-label">Additional Comments (Optional)</label>
                                    <textarea asp-for="FeedbackInput.Comments" class="form-control" rows="4"></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="d-flex justify-content-end mt-4">
                            <button type="submit" class="btn btn-primary">Submit Feedback</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </div>
</div>

@section Scripts {
    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Form validation
            var form = document.getElementById('feedbackForm');
            
            form.addEventListener('submit', function (event) {
                if (!form.checkValidity()) {
                    event.preventDefault();
                    event.stopPropagation();
                }
                
                // Check if at least one strength is selected
                var strengthChecks = document.querySelectorAll('.strength-check:checked');
                if (strengthChecks.length === 0) {
                    event.preventDefault();
                    document.querySelector('.strength-feedback').style.display = 'block';
                } else {
                    document.querySelector('.strength-feedback').style.display = 'none';
                }
                
                // Check if at least one improvement is selected
                var improvementChecks = document.querySelectorAll('.improvement-check:checked');
                if (improvementChecks.length === 0) {
                    event.preventDefault();
                    document.querySelector('.improvement-feedback').style.display = 'block';
                } else {
                    document.querySelector('.improvement-feedback').style.display = 'none';
                }
                
                // Check if at least one suggestion is selected
                var suggestionChecks = document.querySelectorAll('.suggestion-check:checked');
                if (suggestionChecks.length === 0) {
                    event.preventDefault();
                    document.querySelector('.suggestion-feedback').style.display = 'block';
                } else {
                    document.querySelector('.suggestion-feedback').style.display = 'none';
                }
                
                form.classList.add('was-validated');
            }, false);
        });
    </script>
}
